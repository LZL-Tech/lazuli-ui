<p-confirmDialog [acceptLabel]="'Confirmar'" [rejectLabel]="'Cancelar'" [icon]="'fa-solid fa-triangle-exclamation'">
</p-confirmDialog>

<div #divListagemProduto id="div-listagem-produto">
	<h2>Listagem de Produtos</h2>
	<div class="col-12">
		<p-messages [(value)]="mensagens"></p-messages>
	</div>
	<p-table [value]="produtos" #tabelaProdutos [loading]="isLoading">
		<ng-template pTemplate="header">
			<tr>
				<th pSortableColumn="idProduto">
					#
					<p-sortIcon field="idProduto"></p-sortIcon>
					<p-columnFilter type="numeric" field="idProduto" display="menu"></p-columnFilter>
				</th>
				<th pSortableColumn="descricao">
					Descrição
					<p-sortIcon field="descricao"></p-sortIcon>
					<p-columnFilter type="text" field="descricao" display="menu"></p-columnFilter>
				</th>
				<th>
					Marca
					<p-columnFilter type="text" field="marca" display="menu"></p-columnFilter>
				</th>
				<th pSortableColumn="preco">
					Preco
					<p-sortIcon field="preco"></p-sortIcon>
					<p-columnFilter type="numeric" field="preco" display="menu" currency="BRL"></p-columnFilter>
				</th>
				<th pSortableColumn="quantidadeEstoque">
					Quantidade
					<p-sortIcon field="quantidadeEstoque"></p-sortIcon>
					<p-columnFilter type="numeric" field="quantidadeEstoque" display="menu"></p-columnFilter>
				</th>
				<th pSortableColumn="tipoProduto.descricao">
					Tipo
					<p-sortIcon field="tipoProduto.descricao"></p-sortIcon>
				</th>
				<th style="width: 10rem"></th>
			</tr>
		</ng-template>
		<ng-template pTemplate="body" let-produto>
			<tr>
				<td>{{ produto.idProduto }}</td>
				<td>{{ produto.descricao }}</td>
				<td>{{ produto.marca }}</td>
				<td>{{ produto.preco }}</td>
				<td>{{ produto.quantidadeEstoque }}</td>
				<td>{{ produto.tipoProduto.descricao }}</td>
				<td class="flex justify-content-evenly">
					<button pButton pRipple [icon]="'fa-solid fa-pen-to-square'" class="p-button-rounded p-button-warning" [routerLink]="['/produto/atualizar', produto.idProduto]"></button>
					<button pButton pRipple [icon]="'fa-solid fa-trash'" class="p-button-rounded p-button-danger" (click)="confirmaDialogExcluir(produto.idProduto)"></button>
				</td>
			</tr>
		</ng-template>
	</p-table>
</div>
